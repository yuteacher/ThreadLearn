3.5.3 工作原理
本节中介绍了CancellationTokenSource和CancellationToken两个新类。它们在.NET4.0被引人，目前是实现异步操作的取消操作的事实标准。由于线程池已经存在了很长时间，并没有特殊的 API来实现取消标记功能，但是仍然可以对线程池使用上述 API。
在本程序中使用了三种方式来实现取消过程。第一个是轮询来检查CancellationTokenIsCancellationRequested属性。如果该属性为true，则说明操作需要被取消，我们必须放弃该操作。
第二种方式是抛出一个OperationCancelledException异常。这允许在操作之外控制取消过程，即需要取消操作时，通过操作之外的代码来处理。
最后一种方式是注册一个回调函数。当操作被取消时，在线程池将调用该回调函数。这允许链式传递一个取消逻辑到另一个异步操作中。